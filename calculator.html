<!DOCTYPE HTML>
<html>

<head>
    <!-- attempt at fix for IE11 -->
    <meta http-equiv="X-UA-Compatible" content="IE=8">

    <title>Influenza Virologic Surveillance Right Size Sample Size Calculators</title>

    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="jquery-1.9.0.js"></script>
    <script type="text/javascript" src="jquery-ui.js"></script>
    <script type="text/javascript" src="calculatorD.js"></script>
    <script type="text/javascript" src="calculatorC.js"></script>
    <script type="text/javascript" src="calculator.js"></script>

    <link rel="stylesheet" href="jquery-ui.css" />
    <link rel="stylesheet" href="calculator.css" />
</head>

<body>
    <div class="ui-widget"> <!-- div containing the entire calculator -->

        <h3>Influenza Virologic Surveillance Right Size Sample Size Calculators</h3>

        <h3>Definitions</h3>

        <p><i>Medically Attended --Influenza like Illness (MA-ILI)</i>: The population of individuals with ILI who seek medical care. This is the subset of the population available for surveillance testing. This number is determined based on estimates that each person in the US visits an emergency room or physician in ambulatory care setting 2.5 times per year, and that the percentage of outpatient visits that are for ILI is 2.2% at CDC ILINet Seasonal Baseline - this number can be changed throughout the season as needed.</p>

        <p><i>Influenza + (Flu+)</i>: The number of specimens testing positive for an influenza virus among specimens collected from patients with MA-ILI.</p>

        <p><i>Rare/Novel Influenza+ (Rare+)</i>: The number of specimens testing positive for a rare or novel influenza virus among specimens collected from patients with MA-ILI (e.g. novel influenza subtypes, very low prevalence subtypes, antiviral resistance).</p>

        <p><i>Antiviral Resistant Influenza (AVR+)</i>: The number of specimens representing antiviral resistant influenza.</p>

        <h3>Calculators</h3>

        <div id="calculator_accordion" class="calculatorAccordionContainer">
            
            <!-- Calculator C -->
            <h3>Calculator C: Rare/Novel Event Investigation</h3>
            <div>
                <p>Acceptable Data Sources: &#x2713; PHL Testing Data.</p>
                <p>Unacceptable Data Sources: &#x2717; Molecular Non-PHL Data; &#x2717; RIDT Non-PHL Data.</p>

                <!-- input: population; select options populated in javascript -->
                <div class="calculatorInputArea">
                    <label for="calculatorC_select_population" class="calculatorLabel calculatorTooltip tooltipTypeCTotalPopulation">Total Population</label>
                    <select id="calculatorC_select_population" class="calculatorSelect"> </select>
                    <span id="calculatorC_select_population_number_label" class="calculatorSelectNumberLabel"> </span>
                    <input id="calculatorC_input_population" type="number" class="calculatorNumberInput" style="display:none;" value="1000000" />
                </div>

                <!-- input: surveillance scale -->
                <div class="calculatorInputArea">
                    <label for="calculatorC_select_surveillance_scale" class="calculatorLabel calculatorTooltip tooltipTypeCSurveillanceScale">Surveillance Scale</label>
                    <select id="calculatorC_select_surveillance_scale" class="calculatorSelect">
                        <option value="National">National</option>
                        <option value="State" selected>State</option>
                    </select>
                </div>

                <br style="clear:both;" />
                <br style="clear:both;" />

                <!-- input: expected Rare+/Flu+ -->
                <div class="calculatorInputArea">
                    <label for="calculatorC_input_rare_flu_p" class="calculatorLabel calculatorTooltip tooltipTypeCRareFluP">Expected prevalence of Rare+/Flu+</label>
                    <div id="calculatorC_input_rare_flu_p_slider" class="calculatorSlider"></div>
                    <input type="text" id="calculatorC_input_rare_flu_p" class="calculatorSliderInput" />
                </div>

                <br style="clear:both;" />
                <br style="clear:both;" />

                <div id="calculatorC_tabs" class="calculatorTabsContainer">
                    <ul>
                        <li><a href="#calculatorC_tabs-1">Flu+ Sample Size</a></li>
                        <li><a href="#calculatorC_tabs-2">MA-ILI Sample Size</a></li>
                        <li><a href="#calculatorC_tabs-3">Combined Samples</a></li>
                        <li><a href="#calculatorC_tabs-4">Data Confidence</a></li>
                    </ul>

                    <div id="calculatorC_tabs-1">
                        <!-- input: confidence level -->
                        <div class="calculatorInputArea">
                            <label for="calculatorC1_input_confidence_level" class="calculatorLabel calculatorTooltip tooltipTypeCConfidenceLevel">Confidence level</label>
                            <div id="calculatorC1_input_confidence_level_slider" class="calculatorSlider"></div>
                            <input type="text" id="calculatorC1_input_confidence_level" class="calculatorSliderInput" />
                        </div>

                        <br style="clear:both;" />
                        <br style="clear:both;" />
                        <div id="calculatorC1_chart_table_description_div"> </div>

                        <!-- chart and table -->
                        <div id="calculatorC1_chart_div" class="calculatorSmallChart"></div>

                        <!-- the table ignores height specification in class so must specify it here -->
                        <div id="calculatorC1_table_div" class="calculatorSmallTable" style="height:200px; padding-top:50px;"></div>

                        <br style="clear:both;" />

                        <div id="calculatorC1_chart_table_report_div"> </div>

                        <p><i>REMINDER</i>: These calculations assume samples are representative of age, gender, severity, inpatient, outpatient, and geographic distribution of affected populations. Biases in these categories may alter results.</p>
                    </div> <!-- end tabs-1 -->

                    <div id="calculatorC_tabs-2">
                        <!-- input: confidence level -->
                        <div class="calculatorInputArea">
                            <label for="calculatorC2_input_confidence_level" class="calculatorLabel calculatorTooltip tooltipTypeCConfidenceLevel">Confidence level</label>
                            <div id="calculatorC2_input_confidence_level_slider" class="calculatorSlider"></div>
                            <input type="text" id="calculatorC2_input_confidence_level" class="calculatorSliderInput" />
                        </div>

                        <!-- input: assumed prevalence p -->
                        <div class="calculatorInputArea">
                            <label for="calculatorC2_input_p" class="calculatorLabel calculatorTooltip tooltipTypeCExpectedFluMAILI">Expected prevalence of Flu+/MA-ILI</label>
                            <div id="calculatorC2_input_p_slider" class="calculatorSlider"></div>
                            <input type="text" id="calculatorC2_input_p" class="calculatorSliderInput" />
                        </div>

                        <br style="clear:both;" />
                        <br style="clear:both;" />
                        <div id="calculatorC2_chart_table_description_div"> </div>

                        <!-- chart and table -->
                        <div id="calculatorC2_chart_div" class="calculatorSmallChart"></div>

                        <!-- the table ignores height specification in class so must specify it here -->
                        <div id="calculatorC2_table_div" class="calculatorSmallTable" style="height:200px; padding-top:50px;"></div>

                        <br style="clear:both;" />

                        <div id="calculatorC2_chart_table_report_div"> </div>

                        <p><i>REMINDER</i>: These calculations assume samples are representative of age, gender, severity, inpatient, outpatient, and geographic distribution of affected populations. Biases in these categories may alter results.</p>
                    </div> <!-- end tabs-2 -->

                    <div id="calculatorC_tabs-3">
                        <!-- input: confidence level -->
                        <div class="calculatorInputArea">
                            <label for="calculatorC3_input_confidence_level" class="calculatorLabel calculatorTooltip tooltipTypeCConfidenceLevel">Confidence level</label>
                            <div id="calculatorC3_input_confidence_level_slider" class="calculatorSlider"></div>
                            <input type="text" id="calculatorC3_input_confidence_level" class="calculatorSliderInput" />
                        </div>

                        <!-- input: assumed prevalence p -->
                        <div class="calculatorInputArea">
                            <label for="calculatorC3_input_p" class="calculatorLabel calculatorTooltip tooltipTypeCExpectedFluMAILI">Expected prevalence of Flu+/MA-ILI</label>
                            <div id="calculatorC3_input_p_slider" class="calculatorSlider"></div>
                            <input type="text" id="calculatorC3_input_p" class="calculatorSliderInput" />
                        </div>

                        <!-- input: prevalence threshold -->
                        <div class="calculatorInputArea">
                            <label for="calculatorC3_input_prevalence_threshold" class="calculatorLabel calculatorTooltip tooltipTypeCPrevalenceThreshold">Prevalence Threshold</label>
                            <div id="calculatorC3_input_prevalence_threshold_slider" class="calculatorSlider"></div>
                            <input type="text" id="calculatorC3_input_prevalence_threshold" class="calculatorSliderInput" />
                        </div>

                        <br style="clear:both;" />
                        <br style="clear:both;" />
                        <div id="calculatorC3_chart_table_description_div"> </div>

                        <!-- chart and table -->
                        <div id="calculatorC3_chart_div" class="calculatorSmallChart"></div>

                        <!-- the table ignores height specification in class so must specify it here -->
                        <div id="calculatorC3_table_div" class="calculatorSmallTable" style="height:200px; padding-top:50px;"></div>

                        <br style="clear:both;" />

                        <div id="calculatorC3_chart_table_report_div"> </div>

                        <p><i>REMINDER</i>: These calculations assume samples are representative of age, gender, severity, inpatient, outpatient, and geographic distribution of affected populations. Biases in these categories may alter results.</p>
                    </div> <!-- end tabs-3 -->

                    <div id="calculatorC_tabs-4">
                        <!-- input: Flu+ number of samples -->
                        <div class="calculatorInputArea">
                            <label for="calculatorC4_input_flu_sample_size" class="calculatorLabel calculatorTooltip tooltipTypeCFluSampleSize">Flu+ Sample Size</label>
                            <input id="calculatorC4_input_flu_sample_size" type="number" class="calculatorNumberInput" />
                        </div>

                        <!-- input: MA-ILI+ number of samples -->
                        <div class="calculatorInputArea">
                            <label for="calculatorC4_input_maili_sample_size" class="calculatorLabel calculatorTooltip tooltipTypeCMAILISampleSize">MA-ILI Sample Size</label>
                            <input id="calculatorC4_input_maili_sample_size" type="number" class="calculatorNumberInput" />
                        </div>

                        <!-- input: assumed prevalence p -->
                        <div class="calculatorInputArea">
                            <label for="calculatorC4_input_p" class="calculatorLabel calculatorTooltip tooltipTypeCExpectedFluMAILI">Expected prevalence of Flu+/MA-ILI</label>
                            <div id="calculatorC4_input_p_slider" class="calculatorSlider"></div>
                            <input type="text" id="calculatorC4_input_p" class="calculatorSliderInput" />
                        </div>

                        <br style="clear:both;" />
                        <br style="clear:both;" />
                        <div id="calculatorC4_chart_table_description_div"> </div>

                        <!-- chart and table -->
                        <div id="calculatorC4_chart_div" class="calculatorSmallChart"></div>

                        <!-- the table ignores height specification in class so must specify it here -->
                        <div id="calculatorC4_table_div" class="calculatorSmallTable" style="height:200px; padding-top:50px;"></div>

                        <br style="clear:both;" />

                        <div id="calculatorC4_chart_table_report_div"> </div>

                        <p><i>REMINDER</i>: These calculations assume samples are representative of age, gender, severity, inpatient, outpatient, and geographic distribution of affected populations. Biases in these categories may alter results.</p>
                    </div> <!-- end tabs-4 -->
                </div> <!-- end tabs -->
            </div> <!-- end Calculator C -->
            
            <!-- Calculator D -->
            <h3>Calculator D: Antiviral Resistance Calculator</h3>
            <div>
                <!-- input: population; select options populated in javascript -->
                <div class="calculatorInputArea">
                    <label for="calculatorD_select_population" class="calculatorLabel calculatorTooltip tooltipTypeDTotalPopulation">Total Population</label>
                    <select id="calculatorD_select_population" class="calculatorSelect"> </select>
                    <span id="calculatorD_select_population_number_label" class="calculatorSelectNumberLabel"> </span>
                    <input id="calculatorD_input_population" type="number" class="calculatorNumberInput" style="display:none;" value="1000000" />
                </div>

                <!-- input: surveillance scale -->
                <div class="calculatorInputArea">
                    <label for="calculatorD_select_surveillance_scale" class="calculatorLabel calculatorTooltip tooltipTypeDSurveillanceScale">Surveillance Scale</label>
                    <select id="calculatorD_select_surveillance_scale" class="calculatorSelect">
                        <option value="National">National</option>
                        <option value="State">State</option>
                    </select>
                </div>

                <br style="clear:both;" />
                <br style="clear:both;" />

                <div id="calculatorD_tabs" class="calculatorTabsContainer">
                    <ul>
                        <li><a href="#calculatorD_tabs-3">Threshold Detection</a></li>
                        <li><a href="#calculatorD_tabs-4">Data Confidence (Threshold)</a></li>
                        <li><a href="#calculatorD_tabs-1">Detection</a></li>
                        <li><a href="#calculatorD_tabs-2">Data Confidence (detection)</a></li>
                    </ul>

                    <div id="calculatorD_tabs-3">
                        <p>This calculator recommends sample sizes for detecting whether antiviral resistance has reached a specified threshold, for a given influenza type and subtype or lineage. It assumes that the prevalence of antiviral resistance will be estimated by calculating the proportion of specimens that test positive for antiviral resistance (AVR+/Flu+) and confidence intervals around that proportion. When the prevalence of antiviral resistance is lower than the desired threshold, there is a chance of incorrectly triggering the alarm (false positives). Conversely, when the prevalence of antiviral resistance is greater than or equal to the threshold, there is a chance of failing to detect that prevalence has exceeded the threshold (false negatives).</p>

                        <!-- input: AVR+/Flu+ detection threshold -->
                        <div class="calculatorInputArea">
                            <label for="calculatorD3_input_detection_threshold" class="calculatorLabel calculatorTooltip tooltipTypeD2DetectionThreshold">AVR+/Flu+ detection threshold</label>
                            <div id="calculatorD3_input_detection_threshold_slider" class="calculatorSlider"></div>
                            <input type="text" id="calculatorD3_input_detection_threshold" class="calculatorSliderInput" />
                        </div>

                        <!-- input: confidence interval -->
                        <div class="calculatorInputArea">
                            <label for="calculatorD3_input_confidence_interval" class="calculatorLabel calculatorTooltip tooltipTypeD2ConfidenceInterval">Confidence interval</label>
                            <div id="calculatorD3_input_confidence_interval_slider" class="calculatorSlider"></div>
                            <input type="text" id="calculatorD3_input_confidence_interval" class="calculatorSliderInput" />
                        </div>

                        <!-- input: false negative tolerance -->
                        <div class="calculatorInputArea">
                            <label for="calculatorD3_input_false_negative_tolerance" class="calculatorLabel calculatorTooltip tooltipTypeD2FalseNegativeTolerance">False negative tolerance</label>
                            <div id="calculatorD3_input_false_negative_tolerance_slider" class="calculatorSlider"></div>
                            <input type="text" id="calculatorD3_input_false_negative_tolerance" class="calculatorSliderInput" />
                        </div>

                        <!-- input: false positive tolerance -->
                        <div class="calculatorInputArea">
                            <label for="calculatorD3_input_false_positive_tolerance" class="calculatorLabel calculatorTooltip tooltipTypeD2FalsePositiveTolerance">False positive tolerance</label>
                            <div id="calculatorD3_input_false_positive_tolerance_slider" class="calculatorSlider"></div>
                            <input type="text" id="calculatorD3_input_false_positive_tolerance" class="calculatorSliderInput" />
                        </div>

                        <br style="clear:both;" />
                        <p>Enter the threshold prevalence for antiviral resistance you wish to detect, the size of the confidence intervals that will be used when estimating prevalence, a maximum tolerance for false positives, and a maximum tolerance for false negatives.</p>
                        <div id="calculatorD3_chart_table_description_div"> </div>

                        <!-- chart and table -->
                        <div id="calculatorD3_chart_div" class="calculatorSmallChart"></div>

                        <!-- the table ignores height specification in class so must specify it here -->
                        <div id="calculatorD3_table_div" class="calculatorSmallTable" style="height:200px; padding-top:50px;"></div>

                        <br style="clear:both;" />

                        <div id="calculatorD3_chart_table_report_div"> </div>

                        <p><i>REMINDER</i>: These calculations assume samples are representative of age, gender, severity, inpatient, outpatient, and geographic distribution of affected populations. Biases in these categories may alter results.</p>
                    </div> <!-- end tabs-3 -->

                    <div id="calculatorD_tabs-4">
                        <p>This calculator determines the power a given sample size has to detect whether antiviral resistance has reached a specified threshold, for a given influenza type and subtype or lineage. It assumes that the prevalence of antiviral resistance will be estimated by calculating the proportion of specimens that test positive for antiviral resistance (AVR+/Flu+) and confidence intervals around that proportion.</p>

                        <!-- input: Flu+ number of samples -->
                        <div class="calculatorInputArea">
                            <label for="calculatorD4_input_flu_sample_size" class="calculatorLabel calculatorTooltip tooltipTypeD2FluSampleSize">Flu+ Sample Size</label>
                            <input id="calculatorD4_input_flu_sample_size" type="number" class="calculatorNumberInput" />
                        </div>

                        <!-- input: AVR+/Flu+ detection threshold -->
                        <div class="calculatorInputArea">
                            <label for="calculatorD4_input_detection_threshold" class="calculatorLabel calculatorTooltip tooltipTypeD2DetectionThreshold">AVR+/Flu+ detection threshold</label>
                            <div id="calculatorD4_input_detection_threshold_slider" class="calculatorSlider"></div>
                            <input type="text" id="calculatorD4_input_detection_threshold" class="calculatorSliderInput" />
                        </div>

                        <!-- input: confidence interval -->
                        <div class="calculatorInputArea">
                            <label for="calculatorD4_input_confidence_interval" class="calculatorLabel calculatorTooltip tooltipTypeD2ConfidenceInterval">Confidence interval</label>
                            <div id="calculatorD4_input_confidence_interval_slider" class="calculatorSlider"></div>
                            <input type="text" id="calculatorD4_input_confidence_interval" class="calculatorSliderInput" />
                        </div>

                        <br style="clear:both;" />
                        <p>Enter the sample size (number of specimens positive for the given influenza subtype or lineage), the threshold prevalence for antiviral resistance you wish to detect, and the size of the confidence intervals that will be used when estimating prevalence.</p>
                        <div id="calculatorD4_chart_table_description_div"> </div>

                        <!-- chart and table -->
                        <div id="calculatorD4_chart_div" class="calculatorSmallChart"></div>

                        <!-- the table ignores height specification in class so must specify it here -->
                        <div id="calculatorD4_table_div" class="calculatorSmallTable" style="height:200px; padding-top:50px;"></div>

                        <br style="clear:both;" />

                        <div id="calculatorD4_chart_table_report_div"> </div>

                        <p><i>REMINDER</i>: These calculations assume samples are representative of age, gender, severity, inpatient, outpatient, and geographic distribution of affected populations. Biases in these categories may alter results.</p>
                    </div> <!-- end tabs-4 -->

                    <div id="calculatorD_tabs-1">
                        <!-- input: confidence level -->
                        <div class="calculatorInputArea">
                            <label for="calculatorD1_input_confidence_level" class="calculatorLabel calculatorTooltip tooltipTypeDConfidenceLevel">Confidence level</label>
                            <div id="calculatorD1_input_confidence_level_slider" class="calculatorSlider"></div>
                            <input type="text" id="calculatorD1_input_confidence_level" class="calculatorSliderInput" />
                        </div>

                        <br style="clear:both;" />
                        <br style="clear:both;" />
                        <div id="calculatorD1_chart_table_description_div"> </div>

                        <!-- chart and table -->
                        <div id="calculatorD1_chart_div" class="calculatorSmallChart"></div>

                        <!-- the table ignores height specification in class so must specify it here -->
                        <div id="calculatorD1_table_div" class="calculatorSmallTable" style="height:200px; padding-top:50px;"></div>

                        <br style="clear:both;" />

                        <div id="calculatorD1_chart_table_report_div"> </div>

                        <p><i>REMINDER</i>: These calculations assume samples are representative of age, gender, severity, inpatient, outpatient, and geographic distribution of affected populations. Biases in these categories may alter results.</p>
                    </div> <!-- end tabs-1 -->

                    <div id="calculatorD_tabs-2">
                        <!-- input: Flu+ number of samples -->
                        <div class="calculatorInputArea">
                            <label for="calculatorD2_input_flu_sample_size" class="calculatorLabel calculatorTooltip tooltipTypeDFluSampleSize">Flu+ Sample Size</label>
                            <input id="calculatorD2_input_flu_sample_size" type="number" class="calculatorNumberInput" />
                        </div>

                        <br style="clear:both;" />
                        <br style="clear:both;" />
                        <div id="calculatorD2_chart_table_description_div"> </div>

                        <!-- chart and table -->
                        <div id="calculatorD2_chart_div" class="calculatorSmallChart"></div>

                        <!-- the table ignores height specification in class so must specify it here -->
                        <div id="calculatorD2_table_div" class="calculatorSmallTable" style="height:200px; padding-top:50px;"></div>

                        <br style="clear:both;" />

                        <div id="calculatorD2_chart_table_report_div"> </div>

                        <p><i>REMINDER</i>: These calculations assume samples are representative of age, gender, severity, inpatient, outpatient, and geographic distribution of affected populations. Biases in these categories may alter results.</p>
                    </div> <!-- end tabs-2 -->
                </div> <!-- end tabs -->
            </div> <!-- end Calculator D -->

        </div> <!-- end accordion -->
    </div> <!-- end div containing the entire calculator -->

</body>

</html>
